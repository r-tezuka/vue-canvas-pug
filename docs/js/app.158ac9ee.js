(function(e){function t(t){for(var i,s,u=t[0],n=t[1],o=t[2],d=0,h=[];d<u.length;d++)s=u[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&h.push(a[s][0]),a[s]=0;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);l&&l(t);while(h.length)h.shift()();return c.push.apply(c,o||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],i=!0,u=1;u<r.length;u++){var n=r[u];0!==a[n]&&(i=!1)}i&&(c.splice(t--,1),e=s(s.s=r[0]))}return e}var i={},a={app:0},c=[];function s(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=i,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],n=u.push.bind(u);u.push=t,u=u.slice();for(var o=0;o<u.length;o++)t(u[o]);var l=n;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var i=r("85ec"),a=r.n(i);a.a},"55d5":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Bezier")],1)},c=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"col-1"},[e._v("3次ベジェ曲線/ cubic: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.cubic.bezier,expression:"cubic.bezier"}],staticClass:"bezier",attrs:{id:"cubic",type:"checkbox"},domProps:{checked:Array.isArray(e.cubic.bezier)?e._i(e.cubic.bezier,null)>-1:e.cubic.bezier},on:{change:function(t){var r=e.cubic.bezier,i=t.target,a=!!i.checked;if(Array.isArray(r)){var c=null,s=e._i(r,c);i.checked?s<0&&e.$set(e.cubic,"bezier",r.concat([c])):s>-1&&e.$set(e.cubic,"bezier",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(e.cubic,"bezier",a)}}}),r("label",{attrs:{for:"cubic.bezier"}},[e._v("bezier")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.cubic.rationalBezier,expression:"cubic.rationalBezier"}],staticClass:"rationalBezier",attrs:{id:"cubic",type:"checkbox"},domProps:{checked:Array.isArray(e.cubic.rationalBezier)?e._i(e.cubic.rationalBezier,null)>-1:e.cubic.rationalBezier},on:{change:function(t){var r=e.cubic.rationalBezier,i=t.target,a=!!i.checked;if(Array.isArray(r)){var c=null,s=e._i(r,c);i.checked?s<0&&e.$set(e.cubic,"rationalBezier",r.concat([c])):s>-1&&e.$set(e.cubic,"rationalBezier",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(e.cubic,"rationalBezier",a)}}}),r("label",{attrs:{for:"cubic.rationalBezier"}},[e._v("rationalBezier")]),e._l(this.cubic.vertices,(function(t,i){return r("div",[r("div",[e._v("point"+e._s(i)+" x:"+e._s(t.x)+" y:"+e._s(t.y)+" weight:"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.w,expression:"vertex.w"}],attrs:{type:"number"},domProps:{value:t.w},on:{input:function(r){r.target.composing||e.$set(t,"w",r.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.w,expression:"vertex.w"}],attrs:{type:"range",max:"10",step:"0.1"},domProps:{value:t.w},on:{__r:function(r){return e.$set(t,"w",r.target.value)}}})])])})),e._l(this.cubic.handles,(function(t,i){return r("div",[r("div",[e._v("handle"+e._s(i)+" x:"+e._s(t.x)+" y:"+e._s(t.y)+" weight:"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.w,expression:"handle.w"}],attrs:{type:"number"},domProps:{value:t.w},on:{input:function(r){r.target.composing||e.$set(t,"w",r.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.w,expression:"handle.w"}],attrs:{type:"range",max:"10",step:"0.1"},domProps:{value:t.w},on:{__r:function(r){return e.$set(t,"w",r.target.value)}}})])])}))],2),r("span",{staticClass:"col-2"},[e._v("2次ベジェ曲線 /quadratic: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.quadratic.bezier,expression:"quadratic.bezier"}],staticClass:"bezier",attrs:{id:"quadratic",type:"checkbox"},domProps:{checked:Array.isArray(e.quadratic.bezier)?e._i(e.quadratic.bezier,null)>-1:e.quadratic.bezier},on:{change:function(t){var r=e.quadratic.bezier,i=t.target,a=!!i.checked;if(Array.isArray(r)){var c=null,s=e._i(r,c);i.checked?s<0&&e.$set(e.quadratic,"bezier",r.concat([c])):s>-1&&e.$set(e.quadratic,"bezier",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(e.quadratic,"bezier",a)}}}),r("label",{attrs:{for:"quadratic.bezier"}},[e._v("bezier")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.quadratic.rationalBezier,expression:"quadratic.rationalBezier"}],staticClass:"rationalBezier",attrs:{id:"quadratic",type:"checkbox"},domProps:{checked:Array.isArray(e.quadratic.rationalBezier)?e._i(e.quadratic.rationalBezier,null)>-1:e.quadratic.rationalBezier},on:{change:function(t){var r=e.quadratic.rationalBezier,i=t.target,a=!!i.checked;if(Array.isArray(r)){var c=null,s=e._i(r,c);i.checked?s<0&&e.$set(e.quadratic,"rationalBezier",r.concat([c])):s>-1&&e.$set(e.quadratic,"rationalBezier",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(e.quadratic,"rationalBezier",a)}}}),r("label",{attrs:{for:"quadratic.rationalBezier"}},[e._v("rationalBezier")]),e._l(this.quadratic.vertices,(function(t,i){return r("div",[r("div",[e._v("point"+e._s(i)+" x:"+e._s(t.x)+" y:"+e._s(t.y)+" weight:"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.w,expression:"vertex.w"}],attrs:{type:"number"},domProps:{value:t.w},on:{input:function(r){r.target.composing||e.$set(t,"w",r.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.w,expression:"vertex.w"}],attrs:{type:"range",max:"10",step:"0.1"},domProps:{value:t.w},on:{__r:function(r){return e.$set(t,"w",r.target.value)}}})])])})),e._l(this.quadratic.handles,(function(t,i){return r("div",[r("div",[e._v("handle"+e._s(i)+" x:"+e._s(t.x)+" y:"+e._s(t.y)+" weight:"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.w,expression:"handle.w"}],attrs:{type:"number"},domProps:{value:t.w},on:{input:function(r){r.target.composing||e.$set(t,"w",r.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.w,expression:"handle.w"}],attrs:{type:"range",max:"10",step:"0.1"},domProps:{value:t.w},on:{__r:function(r){return e.$set(t,"w",r.target.value)}}})])])}))],2),r("p"),r("div",[e._v("曲率 /curvature: "),r("label",{attrs:{for:"curvature.value"}},[e._v(e._s(e.curvature.value))]),r("div"),r("label",{attrs:{for:"curvature.t"}},[e._v("position: ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.curvature.t,expression:"curvature.t"}],attrs:{type:"range",max:"1",step:"0.01"},domProps:{value:e.curvature.t},on:{__r:function(t){return e.$set(e.curvature,"t",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.curvature.circle,expression:"curvature.circle"}],staticClass:"circle",attrs:{id:"curvature",type:"checkbox"},domProps:{checked:Array.isArray(e.curvature.circle)?e._i(e.curvature.circle,null)>-1:e.curvature.circle},on:{change:function(t){var r=e.curvature.circle,i=t.target,a=!!i.checked;if(Array.isArray(r)){var c=null,s=e._i(r,c);i.checked?s<0&&e.$set(e.curvature,"circle",r.concat([c])):s>-1&&e.$set(e.curvature,"circle",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(e.curvature,"circle",a)}}}),r("label",{attrs:{for:"curvature.circle"}},[e._v("circle ")]),r("div",[e._v("radius of curvature: "+e._s(e.curvature.r))])]),r("label",{attrs:{for:"curvature.dimension"}},[e._v("dimension: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.curvature.dimension,expression:"curvature.dimension"}],staticClass:"dimension cubic",attrs:{id:"curvature",type:"radio",value:"cubic"},domProps:{checked:e._q(e.curvature.dimension,"cubic")},on:{change:function(t){return e.$set(e.curvature,"dimension","cubic")}}}),r("label",{attrs:{for:"curvature.dimension.cubic"}},[e._v("cubic ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.curvature.dimension,expression:"curvature.dimension"}],staticClass:"dimension quadratic",attrs:{id:"curvature",type:"radio",value:"quadratic"},domProps:{checked:e._q(e.curvature.dimension,"quadratic")},on:{change:function(t){return e.$set(e.curvature,"dimension","quadratic")}}}),r("label",{attrs:{for:"curvature.dimension.quadratic"}},[e._v("quadratic ")])]),r("div"),r("label",{attrs:{for:"curvature.curveType"}},[e._v("curveType: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.curvature.curveType,expression:"curvature.curveType"}],staticClass:"curveType bezier",attrs:{id:"curvature",type:"radio",value:"bezier"},domProps:{checked:e._q(e.curvature.curveType,"bezier")},on:{change:function(t){return e.$set(e.curvature,"curveType","bezier")}}}),r("label",{attrs:{for:"curvature.curveType.bezier"}},[e._v("bezier ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.curvature.curveType,expression:"curvature.curveType"}],staticClass:"curveType rationalBezier",attrs:{id:"curvature",type:"radio",value:"rationalBezier"},domProps:{checked:e._q(e.curvature.curveType,"rationalBezier")},on:{change:function(t){return e.$set(e.curvature,"curveType","rationalBezier")}}}),r("label",{attrs:{for:"curvature.curveType.rationalBezier"}},[e._v("rationalBezier ")])]),r("p"),r("canvas",{attrs:{id:"canvas"},on:{mousedown:e.onDown,mouseup:e.onUp,mouseout:e.onUp,mousemove:e.onMove}})])},u=[],n={data:function(){return{dt:.01,cubic:{bezier:!0,rationalBezier:!0,vertices:[{x:150,y:100,w:1},{x:350,y:100,w:1}],handles:[{x:200,y:50,w:2},{x:300,y:50,w:2}]},quadratic:{bezier:!0,rationalBezier:!0,vertices:[{x:550,y:100,w:1},{x:750,y:100,w:1}],handles:[{x:650,y:50,w:2}]},curvature:{circle:!0,t:.5,dimension:"cubic",curveType:"bezier"}}},mounted:function(){this.dragging=!1,this.draw()},methods:{drawCurve:function(e,t){for(var r in this.ctx.strokeStyle=t,this.ctx.beginPath(),this.ctx.moveTo(e[0].x,e[0].y),e)this.ctx.lineTo(e[r].x,e[r].y);this.ctx.stroke()},drawPoint:function(e,t,r){this.ctx.fillStyle=r,this.ctx.fillRect(e-5,t-5,10,10)},draw:function(){if(this.canvas=document.getElementById("canvas"),this.canvas.width=1200,this.canvas.height=800,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.cubic.bezier||this.cubic.rationalBezier){for(var e in this.cubic.vertices)this.drawPoint(this.cubic.vertices[e].x,this.cubic.vertices[e].y,"rgb(0, 0, 0)"),this.drawPoint(this.cubic.handles[e].x,this.cubic.handles[e].y,"rgb(0, 0, 255)"),this.ctx.strokeStyle="rgb(0, 0, 255)",this.ctx.beginPath(),this.ctx.moveTo(this.cubic.vertices[e].x,this.cubic.vertices[e].y),this.ctx.lineTo(this.cubic.handles[e].x,this.cubic.handles[e].y),this.ctx.stroke();if(this.cubic.bezier){var t=this.getCubicBezier();this.drawCurve(t,"rgb(0, 0, 0)"),this.curvature.circle&&"cubic"==this.curvature.dimension&&"bezier"==this.curvature.curveType&&this.drawCurvatureCircle(t)}if(this.cubic.rationalBezier){var r=this.getCubicRationalBezier();this.drawCurve(r,"rgb(255, 0, 0)"),this.curvature.circle&&"cubic"==this.curvature.dimension&&"rationalBezier"==this.curvature.curveType&&this.drawCurvatureCircle(r)}}if(this.quadratic.bezier||this.quadratic.rationalBezier){for(var i in this.drawPoint(this.quadratic.handles[0].x,this.quadratic.handles[0].y,"rgb(0, 0, 255)"),this.ctx.strokeStyle="rgb(0, 0, 255)",this.quadratic.vertices)this.drawPoint(this.quadratic.vertices[i].x,this.quadratic.vertices[i].y,"rgb(0, 0, 0)"),this.ctx.fillStyle="rgb(0, 0, 255)",this.ctx.beginPath(),this.ctx.moveTo(this.quadratic.vertices[i].x,this.quadratic.vertices[i].y),this.ctx.lineTo(this.quadratic.handles[0].x,this.quadratic.handles[0].y),this.ctx.stroke();if(this.quadratic.bezier){var a=this.getQuadraticBezier();this.drawCurve(a,"rgb(0, 0, 0)"),this.curvature.circle&&"quadratic"==this.curvature.dimension&&"bezier"==this.curvature.curveType&&this.drawCurvatureCircle(a)}if(this.quadratic.rationalBezier){var c=this.getQuadraticRationalBezier();this.drawCurve(c,"rgb(255, 0, 0)"),this.curvature.circle&&"quadratic"==this.curvature.dimension&&"rationalBezier"==this.curvature.curveType&&this.drawCurvatureCircle(c)}}},getCubicBezier:function(){for(var e=[],t=Math.round(1/this.dt),r=0;r<=t;r++){var i=this.dt*r,a=this.cubic.vertices[0].x,c=this.cubic.handles[0].x,s=this.cubic.handles[1].x,u=this.cubic.vertices[1].x,n=Math.pow(1-i,3)*a+3*Math.pow(1-i,2)*i*c+3*(1-i)*Math.pow(i,2)*s+Math.pow(i,3)*u,o=this.cubic.vertices[0].y,l=this.cubic.handles[0].y,d=this.cubic.handles[1].y,h=this.cubic.vertices[1].y,v=Math.pow(1-i,3)*o+3*Math.pow(1-i,2)*i*l+3*(1-i)*Math.pow(i,2)*d+Math.pow(i,3)*h;e.push({x:n,y:v})}return e},getCubicRationalBezier:function(){for(var e=[],t=Math.round(1/this.dt),r=0;r<=t;r++){var i=this.dt*r,a=this.cubic.vertices[0].w,c=this.cubic.handles[0].w,s=this.cubic.handles[1].w,u=this.cubic.vertices[1].w,n=this.cubic.vertices[0].x,o=this.cubic.handles[0].x,l=this.cubic.handles[1].x,d=this.cubic.vertices[1].x,h=Math.pow(1-i,3)*n*a+3*Math.pow(1-i,2)*i*o*c+3*(1-i)*Math.pow(i,2)*l*s+Math.pow(i,3)*d*u,v=Math.pow(1-i,3)*a+3*Math.pow(1-i,2)*i*c+3*(1-i)*Math.pow(i,2)*s+Math.pow(i,3)*u,p=h/v,b=this.cubic.vertices[0].y,w=this.cubic.handles[0].y,m=this.cubic.handles[1].y,y=this.cubic.vertices[1].y,f=Math.pow(1-i,3)*b*a+3*Math.pow(1-i,2)*i*w*c+3*(1-i)*Math.pow(i,2)*m*s+Math.pow(i,3)*y*u,x=Math.pow(1-i,3)*a+3*Math.pow(1-i,2)*i*c+3*(1-i)*Math.pow(i,2)*s+Math.pow(i,3)*u,g=f/x;e.push({x:p,y:g})}return e},getQuadraticBezier:function(){for(var e=[],t=0;t<=1/this.dt;t++){var r=this.dt*t,i=this.quadratic.vertices[0].x,a=this.quadratic.handles[0].x,c=this.quadratic.vertices[1].x,s=Math.pow(1-r,2)*i+2*(1-r)*r*a+Math.pow(r,2)*c,u=this.quadratic.vertices[0].y,n=this.quadratic.handles[0].y,o=this.quadratic.vertices[1].y,l=Math.pow(1-r,2)*u+2*(1-r)*r*n+Math.pow(r,2)*o;e.push({x:s,y:l})}return e},getQuadraticRationalBezier:function(){for(var e=[],t=0;t<=1/this.dt;t++){var r=this.dt*t,i=this.quadratic.vertices[0].w,a=this.quadratic.handles[0].w,c=this.quadratic.vertices[1].w,s=this.quadratic.vertices[0].x,u=this.quadratic.handles[0].x,n=this.quadratic.vertices[1].x,o=Math.pow(1-r,2)*s*i+2*(1-r)*r*u*a+Math.pow(r,2)*n*c,l=Math.pow(1-r,2)*i+2*(1-r)*r*a+Math.pow(r,2)*c,d=o/l,h=this.quadratic.vertices[0].y,v=this.quadratic.handles[0].y,p=this.quadratic.vertices[1].y,b=Math.pow(1-r,2)*h*i+2*(1-r)*r*v*a+Math.pow(r,2)*p*c,w=Math.pow(1-r,2)*i+2*(1-r)*r*a+Math.pow(r,2)*c,m=b/w;e.push({x:d,y:m})}return e},drawCurvatureCircle:function(e){var t,r=Math.round(1*this.curvature.t/this.dt);this.drawPoint(e[r].x,e[r].y,"rgb(0, 255, 0)"),0==r&&(r=1),r==1/this.dt&&(r=1/this.dt-1);var i=e[r+1].x-e[r-1].x,a=e[r+1].x+e[r-1].x-2*e[r].x,c=e[r+1].y-e[r-1].y,s=e[r+1].y+e[r-1].y-2*e[r].y,u=this.dt,n=e[r].x-(Math.pow(i/u,2)+Math.pow(c/u,2))/(i/u*s/u/u-c/u*a/u/u)*c/u,o=e[r].y+(Math.pow(i/u,2)+Math.pow(c/u,2))/(i/u*s/u/u-c/u*a/u/u)*i/u,l=Math.abs(Math.pow(Math.pow(i/u,2)+Math.pow(c/u,2),1.5)/(i/u*s/u/u-c/u*a/u/u));t={x:n,y:o,r:l},this.drawPoint(t.x,t.y,"rgb(0, 255, 0)"),this.ctx.strokeStyle="rgb(0, 255, 0)",this.ctx.beginPath(),this.ctx.moveTo(e[r].x,e[r].y),this.ctx.lineTo(t.x,t.y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.r,0,360),this.ctx.stroke(),this.curvature.value=1/t.r,this.curvature.r=t.r},onDown:function(e){var t=this.canvas.getBoundingClientRect().left,r=this.canvas.getBoundingClientRect().top,i=e.clientX-t,a=e.clientY-r;for(var c in this.cubic.vertices){var s=this.cubic.vertices[c];this.objDrag(s,i,a)}for(var u in this.cubic.handles){var n=this.cubic.handles[u];this.objDrag(n,i,a)}for(var o in this.quadratic.vertices){var l=this.quadratic.vertices[o];this.objDrag(l,i,a)}for(var d in this.quadratic.handles){var h=this.quadratic.handles[d];this.objDrag(h,i,a)}},objDrag:function(e,t,r){e.x-5<t&&e.x+5>t&&e.y-5<r&&e.y+5>r&&(this.dragging=!0,this.target=e,this.relX=this.target.x-t,this.relY=this.target.y-r)},onMove:function(e){var t=this.canvas.getBoundingClientRect().left,r=this.canvas.getBoundingClientRect().top,i=e.clientX-t,a=e.clientY-r;this.dragging&&(this.target.x=i+this.relX,this.target.y=a+this.relY,this.draw())},onUp:function(){this.dragging=!1}},watch:{cubic:{handler:function(){this.draw()},deep:!0},quadratic:{handler:function(){this.draw()},deep:!0},curvature:{handler:function(){this.draw()},deep:!0}}},o=n,l=(r("a35d"),r("2877")),d=Object(l["a"])(o,s,u,!1,null,"b234dc9a",null),h=d.exports,v={name:"App",components:{Bezier:h}},p=v,b=(r("034f"),Object(l["a"])(p,a,c,!1,null,null,null)),w=b.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(w)}}).$mount("#app")},"85ec":function(e,t,r){},a35d:function(e,t,r){"use strict";var i=r("55d5"),a=r.n(i);a.a}});
//# sourceMappingURL=app.158ac9ee.js.map